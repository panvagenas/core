(function(a){if($websharks_core.___did_menu_pages){return}a.each($websharks_core.$.___plugin_root_ns_stubs,function(d,b){var e=$websharks_core.$.extension_class(b,"menu_pages");window["$"+b].$menu_pages=new e();var c=window["$"+b].$menu_pages;c.toggling_all_panels=false;c.on_dom_ready=function(){var k=c.$menu_page();var h=c.$content_panels();var j=c.$sidebar_panels();var m=c.$content_sidebar_panels();a("#wpbody").addClass(c.instance_config("core_prefix_with_dashes")+c.closest_theme_class_to(k)).css({"margin-left":"-20px","padding-left":"20px","min-height":screen.height+"px"});k.find(".toggle-all-panels").on("click",function(){c.toggling_all_panels=true;var p=a(this),o=p.data("last-action");var n=o==="show"?"hide":"show";p.data("last-action",n),m.find("> .panel-collapse").wscCollapse({toggle:false}).wscCollapse(n);setTimeout(function(){c.toggling_all_panels=false,l(),g()},2000)});k.find("form.update-theme ul > li").on("click",function(){k.find("form.update-theme").find("input.selected-theme").val(a(this).data("theme")).end().submit()});var l=function(){if(c.toggling_all_panels){return}var n=[],o=[];h.each(function(){var p=a(this);if(p.find("> .panel-collapse").hasClass("in")){n.push(p.data("panel-slug"))}else{o.push(p.data("panel-slug"))}});c.post("©menu_pages__"+c.is_plugin_menu_page("",true)+".®update_content_panels_state",c.___private_type,[n,o]);console.log("Updating content panels state.")};h.find("> .panel-collapse").on("shown.wsc-bs.collapse hidden.wsc-bs.collapse",l);var g=function(){if(c.toggling_all_panels){return}var n=[],o=[];j.each(function(){var p=a(this);if(p.find("> .panel-collapse").hasClass("in")){n.push(p.data("panel-slug"))}else{o.push(p.data("panel-slug"))}});c.post("©menu_pages__"+c.is_plugin_menu_page("",true)+".®update_sidebar_panels_state",c.___private_type,[n,o]);console.log("Updating sidebar panels state.")};j.find("> .panel-collapse").on("shown.wsc-bs.collapse hidden.wsc-bs.collapse",g);var f=function(){var n=[];k.find(".content-panels > .panel").each(function(){var o=a(this);n.push(o.data("panel-slug"))});c.post("©menu_pages__"+c.is_plugin_menu_page("",true)+".®update_content_panels_order",c.___private_type,[n]);console.log("Updating content panels order.")};k.find(".content-panels").sortable({items:".panel",handle:"> .panel-heading > .panel-title .cursor-move"});k.find(".content-panels").on("sortupdate",f);var i=function(){var n=[];k.find(".sidebar-panels > .panel").each(function(){var o=a(this);n.push(o.data("panel-slug"))});c.post("©menu_pages__"+c.is_plugin_menu_page("",true)+".®update_sidebar_panels_order",c.___private_type,[n]);console.log("Updating sidebar panels order.")};k.find(".sidebar-panels").sortable({items:".panel",handle:"> .panel-heading > .panel-title .cursor-move"});k.find(".sidebar-panels").on("sortupdate",i)};c.on_win_load=function(){var j=c.$menu_page();var h=c.get_query_var("content_panel_slug");var i=c.get_query_var("sidebar_panel_slug");var l,g;if(h&&(l=j.find(".content-panels #panel--"+h+".panel-collapse")).length){var k=function(){a.scrollTo(l.prev(".panel-heading"),{offset:{top:-100,left:0},duration:500})};if(l.hasClass("in")){k()}else{l.one("shown.wsc-bs.collapse",k),l.wscCollapse({toggle:false}).wscCollapse("show")}}if(i&&(g=j.find(".sidebar-panels #panel--"+i+".panel-collapse")).length){var f=function(){if(!h){a.scrollTo(g.prev(".panel-heading"),{offset:{top:-100,left:0},duration:500})}};if(g.hasClass("in")){f()}else{g.one("shown.wsc-bs.collapse",f),g.wscCollapse({toggle:false}).wscCollapse("show")}}};c.$menu_page=function(){if(c.cache.$menu_page){return c.cache.$menu_page}return(c.cache.$menu_page=a("."+c.instance_config("core_ns_stub_with_dashes")+".menu-page"))};c.$content_panels=function(){if(c.cache.$content_panels){return c.cache.$content_panels}return(c.cache.$content_panels=c.$menu_page().find(".content-panels > .panel"))};c.$sidebar_panels=function(){if(c.cache.$sidebar_panels){return c.cache.$sidebar_panels}return(c.cache.$sidebar_panels=c.$menu_page().find(".sidebar-panels > .panel"))};c.$content_sidebar_panels=function(){if(c.cache.$content_sidebar_panels){return c.cache.$content_sidebar_panels}return(c.cache.$content_sidebar_panels=c.$menu_page().find(".content-panels > .panel, .sidebar-panels > .panel"))};a(document).on("ready",c.on_dom_ready),a(window).on("load",c.on_win_load)});$websharks_core.___did_menu_pages=true})(jQuery);