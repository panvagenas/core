(function(a){a.$$websharks_core=a.$$websharks_core||{};if(typeof a.$$websharks_core.$menu_pages==="function"){return}a.$$websharks_core.$menu_pages=function(){this.setup_initialize.apply(this,arguments)};a.$$websharks_core.$menu_pages.prototype=new a.$$websharks_core.$("websharks_core","menu_pages");a.$$websharks_core.$menu_pages.prototype.constructor=a.$$websharks_core.$menu_pages;a.$$websharks_core.$menu_pages.prototype.setup_initialize=function(){var b=this,c=jQuery;c(document).ready(function(){var d={};d.menu_page="div."+b.plugin_css_class()+"--menu-page";d.menu_page_wrapper=d.menu_page+" div.menu-page.wrapper";d.header_controls=d.menu_page_wrapper+" div.menu-page.controls";d.content_wrapper=d.menu_page+" div.content.wrapper";d.content_panels=d.content_wrapper+" div.panels";d.sidebar_wrapper=d.menu_page+" div.sidebar.wrapper";d.sidebar_panels=d.sidebar_wrapper+" div.panels";c(d.header_controls+" button.toggle-all-content-panels").button({icons:{primary:"ui-icon-triangle-1-s",secondary:"ui-icon-triangle-1-n"}}).click(function(){c(d.content_panels).toggles({},{toggleAll:true});return false});c(d.header_controls+" button.choose-theme").button({icons:{secondary:"ui-icon-circle-triangle-s"}}).click(function(){c(d.header_controls+" form.update-theme").toggle().position({collision:"none",my:"right top",at:"right bottom",offset:"-5 0",of:this});return false});c(d.header_controls+" ul.theme-options li").click(function(){c(d.header_controls+" form.update-theme").find("input.theme").val(c(this).data("theme")).end().submit()});c(d.content_wrapper+" div.panel.content div.docs").each(function(){var e=c(this);e.before('<a class="docs-toggle" href="#">'+b.__("ready__docs__button_label")+"</a>").prev("a.docs-toggle").button({icons:{primary:"ui-icon-info"}}).click(function(){e.dialog("open");return false});e.dialog({title:b.__("ready__docs__dialog_title"),dialogClass:b.ui_dialogue_classes_for(e),width:853,autoOpen:false,modal:true})});c(d.content_wrapper+" div.panel.content div.video").each(function(){var e=c(this);e.before('<a class="video-toggle" href="#">'+b.__("ready__video__button_label")+"</a>").prev("a.video-toggle").button({icons:{primary:"ui-icon-video"}}).click(function(){e.dialog("open");return false});e.dialog({title:b.__("ready__video__dialog_title"),dialogClass:b.ui_dialogue_classes_for(e),width:853,height:480,autoOpen:false,modal:true})});c(d.content_panels).toggles({isActive:function(){if("#"+b.get_query_var("content_panel_slug")===this.hash){c.scrollTo(this,{offset:{top:-50,left:0},duration:500});return true}else{return false}},onToggle:function(f){var e=[],h=[];var g=b.is_plugin_menu_page();c.each(f.active,function(){e.push(c(this).data("panel-slug"))});c.each(f.inactive,function(){h.push(c(this).data("panel-slug"))});b.post("©menu_pages__"+g+".®update_content_panels_state",b.___private_type,[e,h])}}).sortable({axis:"y",forcePlaceholderSize:true,handle:"> div > h3",placeholder:"ui-state-highlight",stop:function(f,g){g.item.children("> div > h3").triggerHandler("focusout");var e=[];var h=b.is_plugin_menu_page();c(d.content_panels+" div.panel.wrapper").each(function(){e.push(c(this).data("panel-slug"))});b.post("©menu_pages__"+h+".®update_content_panels_order",b.___private_type,[e])}});c(d.sidebar_panels).toggles({isActive:function(){return("#"+b.get_query_var("sidebar_panel_slug")===this.hash)},onToggle:function(f){var e=[],h=[];var g=b.is_plugin_menu_page();c.each(f.active,function(){e.push(c(this).data("panel-slug"))});c.each(f.inactive,function(){h.push(c(this).data("panel-slug"))});b.post("©menu_pages__"+g+".®update_sidebar_panels_state",b.___private_type,[e,h])}}).sortable({axis:"y",forcePlaceholderSize:true,handle:"> div > h3",placeholder:"ui-state-highlight",stop:function(f,g){g.item.find("> div > h3").triggerHandler("focusout");var e=[];var h=b.is_plugin_menu_page();c(d.sidebar_panels+" div.panel.wrapper").each(function(){e.push(c(this).data("panel-slug"))});b.post("©menu_pages__"+h+".®update_sidebar_panels_order",b.___private_type,[e])}});b.prepare_ui_forms();b.wrap_problematic_ui_theme_components();c(d.menu_page).css({visibility:"visible"})})};a.$websharks_core.$menu_pages=new a.$$websharks_core.$menu_pages()})(this);